var searchFunc=function(t,n,i){"use strict";var a="<button type='button' class='local-search-close' id='local-search-close'></button>";$.ajax({url:t,dataType:"xml",success:function(t){var e=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),r=document.getElementById(n),l=document.getElementById(i);r.addEventListener("input",function(){var f='<ul class="search-result-list">',d=this.value.trim().toLowerCase().split(/[\s]+/);if(l.innerHTML="",!(this.value.trim().length<=0)){if(e.forEach(function(t){var r=!0;t.title&&""!==t.title.trim()||(t.title="Untitled");var l=t.title.trim().toLowerCase(),n=t.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),e=t.url,i=-1,a=-1,c=-1;if(""!==n?d.forEach(function(t,e){i=l.indexOf(t),a=n.indexOf(t),i<0&&a<0?r=!1:(a<0&&(a=0),0==e&&(c=a))}):r=!1,r){f+="<li><a href='"+e+"' class='search-result-title'>"+l+"</a>";var s=t.content.trim().replace(/<[^>]+>/g,"");if(0<=c){var o=c-20,u=c+80;o<0&&(o=0),0==o&&(u=100),u>s.length&&(u=s.length);var h=s.substr(o,u);d.forEach(function(t){var e=new RegExp(t,"gi");h=h.replace(e,'<em class="search-keyword">'+t+"</em>")}),f+='<p class="search-result">'+h+"...</p>"}f+="</li>"}}),-1===(f+="</ul>").indexOf("<li>"))return l.innerHTML=a+'<div class="search-result-empty"><p><i class="fe fe-tired"></i> 没有找到内容，更换下搜索词试试吧~<p></div>';l.innerHTML=a+f}})}}),$(document).on("click","#local-search-close",function(){$("#local-search-input").val(""),$("#local-search-result").html("")})};